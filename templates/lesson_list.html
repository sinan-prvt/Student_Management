{% extends 'base.html' %}

{% block title %}Lessons - {{ course.title }}{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="fw-bold">Lessons for {{ course.title }}</h2>
    <p class="text-muted">{{ course.description }}</p>

    <div class="list-group mt-4">
        {% for lesson in lessons %}
            {% if lesson in completed_lessons %}
                <a href="{% url 'lesson_detail' course.id lesson.id %}" 
                   class="list-group-item list-group-item-action d-flex justify-content-between align-items-center bg-light text-success">
                    {{ lesson.order }}. {{ lesson.title }}
                    <span class="badge bg-success">Completed</span>
                </a>
            {% else %}
                <a href="{% url 'lesson_detail' course.id lesson.id %}" 
                   class="list-group-item list-group-item-action d-flex justify-content-between align-items-center bg-light text-danger">
                    {{ lesson.order }}. {{ lesson.title }}
                    <span class="badge bg-danger">Pending</span>
                </a>
            {% endif %}
        {% empty %}
            <p class="text-muted">No lessons available for this course yet.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.list-group-item {
    transition: all 0.2s ease-in-out;
}
.list-group-item:hover {
    background-color: #f0f8ff;
    transform: scale(1.01);
}
.badge {
    font-weight: bold;
    padding: 0.5em 0.8em;
}
</style>
{% endblock %}
